# 连续


### 定义

连续指的是函数图像处处彼此连接在一起, 没有出现断层:

![](md/images/2019-11-25_16-46-28.jpg)

根据微分的层级, 也可以在分成一阶连续, 二阶连续.

一阶连续指的是一阶导数连续, 即函数的导数不会出现断层, 你也可以直观地看成是一个轮子在曲线上面跑的时候会跑得比较平滑, 不会突然 "咯噔" 一下子因为地面不平跳起来.

![](md/images/2019-11-25_17-20-52.jpg)

二阶连续指的是二阶导数连续, 二阶连续不太好从直观上去描述, 一般一个二阶连续的曲线看起来会很一致以至于你无法将其分成两部分. 而一个直线右边接着一个曲线, 虽然他们在接缝处平滑, 但是他们是二阶不连续的.



### 图形编程

连续是微积分重要的基础, 不过我们在这里把它列出来不是要学习微积分, 而是希望能够建立关于它的一种更加直觉式的印象, 来帮助我们进行图形编程时的分析.

在图形编程时, 尤其在片元着色器中, 我们需要处理频繁出现的边缘, 例如我们要在一个小块绘制一种颜色, 那么就需要处理它的边缘, 在边缘内侧使用内部的颜色, 外侧使用外部的颜色. 这一步也可以看作是我们日常的逻辑处理时使用的 if 语句.

<pre class="language-ts">
if (InRangeLeft) {
	...
}
else {
	...
}
</pre>

我们的眼睛对于颜色较大的梯度变化非常敏感, 对于抖动更敏感甚至会产生生理的厌恶 (甚至头晕), 而如果我们在处理图像时, 如果边缘处理地不连续, 前面两者都可能产生, 甚至一定会发生.

由于边缘问题在一般的图形编程中, 一般只会出现在 1px 范围内 (例如图像锯齿), 而处理起来有可能很费劲, 尤其当你对滤波和滤波函数的数学模型没有足够了解时. 所以你会发现很多的图形软件干脆放弃边缘处理, 锯齿就锯齿, 梯度大就梯度大, 我把动画调快一点你不就看不出来了嘛.

不过如果你真的希望你的造物能够经得起细节的推敲, 强烈推荐进行更加细致的边缘处理.

如果能完全理解滤波的数学模型, 那么边缘处理其实并不会是一个头疼的问题. 这部分将会在 [滤波](#math/filtering) 里做细致的分析.

此外, 图形学的许多方面都建立在连续之上, 例如对于纹理采样坐标的预测和预加载 (参考 [采样](#opengl/sampling)), 动画的设计和实现, 变换的数学处理等等.



### 其他

不论我们是建模, 拟合各类函数, 还是处理边缘, 其实我们都在有意无意地基于连续的概念处理很多的问题. 所以其实我们并不需要在这个概念上面做太多的文章, 只需要慢慢积累, 建立起直观印象.

当我们完全接受了连续的概念之后, 我们还需要在思考具体的问题时, 需要考虑图像在变化时应该是处处连续的, 而且也应当是关于时间连续的.