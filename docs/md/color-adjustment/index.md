# 调色 (Color Adjustment)

这里包含了目前常用的调色算法, 着色器以及其预览. 其内容会跟随项目的推进而扩充.


### 参考资料

建议阅读 <<计算机图形学>> 的颜色部分, 以及 Wiki 中关于各个颜色空间 (Color Space) 的简介.

构建调色着色器最难的地方在于构建调色函数, 请先阅读文档的 [函数拟合](#math/function-fitting) 部分.


### 参数

所有调色着色器的参数都有一个 `iPercent`, 范围为 `-100 ~ 100`. 这个范围当然不是可调整的最大范围, 而是差不多不会出现颜色失真, 或者全黑全白的最大范围.

之后可能还会根据 Photoshop 或者 Lightroom 进行标定和参数映射.



### 多个调色

所有的调色着色器都是顺序敏感的, 同样的参数, 不同的顺序会出现不同的结果. 所以一般调色栈应该按照固定的顺序排序.

以下是一个来自于某软件的调色栈顺序:

1. Brightness
2. Contrast
3. Saturation
4. Vibrance
5. Hue
6. Lightness / Luminance
7. Saturation
8. Temperature
9. Tint

猜测排在栈首的调整对于 RGB 分量的平衡 (百分比的变化) 破坏不大, 越往后越大. 明白了这个我们也可以对这个顺序做进一步的调整.



### 后续

显然这里目前实现都是最基础的调色, 它们应当被组合起来进行更多的调试.

我们后续应当去找到一些对标或参照, 例如 Adobe Photoshop 或者 Adobe Lightroom, 这样可以帮助我们校正现在的调色算法和丰富调色的模式.

如果我们把目标定位为普通用户, 就是一键加一点微调的那种, 那么我们要提供很多不错的调色预设, 这个过程里我们也可以不断完善现有的算法和参数.